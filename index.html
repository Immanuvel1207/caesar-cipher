<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encrypt and Decrypt Data</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .container {
            margin-top: 20px;
        }
        input, button {
            padding: 10px;
            margin: 10px;
        }
    </style>
</head>
<body>

    <h1>Encrypt and Decrypt Data</h1>

    <div class="container">
        <!-- Encryption Section -->
        <h2>Encrypt Data</h2>
        <label>Data to encrypt: </label>
        <input type="text" id="dataInput" placeholder="Enter data"><br>
        <label>Shift value: </label>
        <input type="number" id="shiftValue" placeholder="Shift value"><br>
        <label>Mod value: </label>
        <input type="number" id="modValue" placeholder="Mod value"><br>
        <label>Password (4 digits): </label>
        <input type="password" id="passwordInput" maxlength="4" placeholder="Enter 4-digit password"><br>
        <button onclick="encryptData()">Encrypt Data</button>
        
        <h3>Encrypted Data: </h3>
        <p id="encryptedOutput"></p>

        <!-- Decryption Section -->
        <h2>Decrypt Data</h2>
        <label>Encrypted data: </label>
        <input type="text" id="encryptedDataInput" placeholder="Enter encrypted data"><br>
        <label>Shift value: </label>
        <input type="number" id="decryptShiftValue" placeholder="Shift value"><br>
        <label>Mod value: </label>
        <input type="number" id="decryptModValue" placeholder="Mod value"><br>
        <label>Password (4 digits): </label>
        <input type="password" id="decryptPasswordInput" maxlength="4" placeholder="Enter 4-digit password"><br>
        <button onclick="decryptData()">Decrypt Data</button>

        <h3>Decrypted Data: </h3>
        <p id="decryptedOutput"></p>
    </div>

    <script>
        // Encrypt only alphabetic characters and numbers (optional)
        function caesarCipherEncrypt(text, shift, mod) {
            return text.split('').map(char => {
                let code = char.charCodeAt(0);
                // Shift only alphabetic and numeric characters
                if ((code >= 65 && code <= 90) || (code >= 97 && code <= 122)) {  // A-Z and a-z
                    let base = code >= 97 ? 97 : 65;  // Determine base for lowercase/uppercase
                    return String.fromCharCode(((code - base + shift) % 26) + base);
                } else if (code >= 48 && code <= 57) { // 0-9
                    return String.fromCharCode(((code - 48 + shift) % 10) + 48);
                } else {
                    // Keep non-alphabetic characters unchanged
                    return char;
                }
            }).join('');
        }
    
        // Decrypt only alphabetic characters and numbers (optional)
        function caesarCipherDecrypt(text, shift, mod) {
            return text.split('').map(char => {
                let code = char.charCodeAt(0);
                // Decrypt only alphabetic and numeric characters
                if ((code >= 65 && code <= 90) || (code >= 97 && code <= 122)) {  // A-Z and a-z
                    let base = code >= 97 ? 97 : 65;  // Determine base for lowercase/uppercase
                    return String.fromCharCode(((code - base - shift + 26) % 26) + base);
                } else if (code >= 48 && code <= 57) { // 0-9
                    return String.fromCharCode(((code - 48 - shift + 10) % 10) + 48);
                } else {
                    // Keep non-alphabetic characters unchanged
                    return char;
                }
            }).join('');
        }
    
        // Encrypt Data Function (unchanged)
        function encryptData() {
            let data = document.getElementById('dataInput').value;
            let shift = parseInt(document.getElementById('shiftValue').value);
            let mod = parseInt(document.getElementById('modValue').value);
            let password = document.getElementById('passwordInput').value;
    
            if (password.length !== 4) {
                alert("Password must be 4 digits");
                return;
            }
    
            let encryptedData = caesarCipherEncrypt(data, shift, mod);
            document.getElementById('encryptedOutput').textContent = `Encrypted Data: ${encryptedData}`;
        }
    
        // Decrypt Data Function (unchanged)
        function decryptData() {
            let encryptedData = document.getElementById('encryptedDataInput').value;
            let shift = parseInt(document.getElementById('decryptShiftValue').value);
            let mod = parseInt(document.getElementById('decryptModValue').value);
            let password = document.getElementById('decryptPasswordInput').value;
    
            if (password.length !== 4) {
                alert("Password must be 4 digits");
                return;
            }
    
            let correctPassword = document.getElementById('passwordInput').value;
    
            // Check if the password matches
            if (password !== correctPassword) {
                alert("Password is incorrect!");
                return;
            }
    
            // Decrypt the data if password is correct
            let decryptedData = caesarCipherDecrypt(encryptedData, shift, mod);
            document.getElementById('decryptedOutput').textContent = `Decrypted Data: ${decryptedData}`;
        }
    </script>
    

</body>
</html>
